<div layout="column" layout-fill>
    <div flex class="content md-content">
        <md-sidenav-container fullscreen class="td-layout-manage-list md-content" flex layout="row">
            <md-sidenav opened="true" align="start" mode="side" class="md-sidenav-left md-whiteframe-z1">
                <div layout="column">
                    <div flex layout="column">
                        <div layout="row" layout-align="start center" class="draggable bgc-grey-900">
                            <span flex></span>
                            <button md-icon-button><md-icon>sort</md-icon></button>
                            <button md-icon-button><md-icon>more_vert</md-icon></button>
                        </div>
                        <div flex layout="row">
                            <div flex="none" class="bgc-dark-grey-B15">
                                <md-button-toggle-group vertical #group="mdButtonToggleGroup">
                                    <md-button-toggle value="files" mdTooltip="File Browser" mdTooltipPosition="after" checked="true">
                                        <md-icon class="push-top push-bottom">folder_open</md-icon>
                                    </md-button-toggle>
                                    <md-button-toggle value="data" mdTooltip="Data Sources" mdTooltipPosition="after">
                                        <md-icon class="push-top push-bottom">storage</md-icon>
                                    </md-button-toggle>
                                    <md-button-toggle value="right" mdTooltip="Filters" mdTooltipPosition="after">
                                        <md-icon class="push-top push-bottom">filter_tilt_shift</md-icon>
                                    </md-button-toggle>
                                    <md-button-toggle value="justify" mdTooltip="Cloud Connections" mdTooltipPosition="after">
                                        <md-icon class="push-top push-bottom">filter_drama</md-icon>
                                    </md-button-toggle>
                                </md-button-toggle-group>
                            </div>
                            <div flex layout="column" class="md-content">
                                <td-file-select layout="column" flex #fileSelect (openFile)="monaco.value = $event.contents"></td-file-select>
                            </div>
                        </div>
                    </div>
                </div>
            </md-sidenav>
            <md-sidenav style="width:50%" #preview align="end" mode="cover" class="md-sidenav-right md-whiteframe-z1">
                <div layout="column">
                    <div flex layout="column">
                        <div layout="row" layout-align="start center" class="draggable bgc-grey-900">
                            <button md-icon-button (click)="preview.close()" mdTooltip="Close Preview" mdTooltipPosition="after"><md-icon>close</md-icon></button>
                            <span class="md-subhead push-left-sm">Preview</span>
                            <span flex></span>
                            <button md-icon-button><md-icon>more_vert</md-icon></button>
                        </div>
                        <div flex layout="column" layout-align="center center" class="md-content">
                            <div style="height: 300px" class="pad">
                                <ngx-charts-bar-vertical
                                    [scheme]="colorScheme"
                                    [results]="barGraphData"
                                    [gradient]="gradient"
                                    [xAxis]="showXAxis"
                                    [yAxis]="showYAxis"
                                    [legend]="showLegend"
                                    [showXAxisLabel]="showXAxisLabel"
                                    [showYAxisLabel]="showYAxisLabel"
                                    [xAxisLabel]="xAxisLabel"
                                    [yAxisLabel]="yAxisLabel">
                                </ngx-charts-bar-vertical>
                            </div>
                        </div>
                    </div>
                    <div class="td-layout-footer bgc-black pad-xs" layout="row">
                        <button md-icon-button><md-icon>file_download</md-icon></button>
                        <span flex></span>
                        <button md-icon-button><md-icon>refresh</md-icon></button>
                    </div>
                </div>
            </md-sidenav>
            <div layout="column" flex layout-fill>
                <div flex layout="column">
                    <div flex layout="column">
                        <div layout="row" layout-align="start center" class="draggable bgc-grey-900">
                            <span flex class="text-center md-caption">Covalent Electron</span>
                            <button md-icon-button (click)="toggleSettings()" mdTooltip="Add Connection" mdTooltipPosition="before"><md-icon>settings_input_component</md-icon></button>
                            <button md-icon-button (click)="preview.toggle()" mdTooltip="Toggle Preview" mdTooltipPosition="before"><md-icon>remove_red_eye</md-icon></button>
                            <button md-icon-button [mdMenuTriggerFor]="moreMenu"><md-icon>more_vert</md-icon></button>
                            <md-menu #moreMenu="mdMenu" x-position="before">
                                <button md-menu-item (click)="saveEditorValue(monaco)">Get Editor Content</button>
                                <button md-menu-item (click)="monaco.value = 'console.log()'">Set Content to console.log</button>
                                <button md-menu-item (click)="registerCustomLanguage(monaco)">Use custom Language</button>
                                <md-divider></md-divider>
                                <button md-menu-item> Settings </button>
                            </md-menu>
                        </div>
                        <div layout="row" layout-align="start center" class="bgc-black">
                            <button md-icon-button mdTooltip="SQL Syntax" (click)="monaco.language = 'sql'"><md-icon>keyboard</md-icon></button>
                            <button md-icon-button mdTooltip="Execute SQL" (click)="executeSQL(monaco)"><md-icon>swap_vertical_circle</md-icon></button>
                        </div>
                        <md-divider></md-divider>
                        <td-monaco-editor #monaco theme="vs-dark" flex class="bgc-grey-900 overflow-hidden" editorStyle="border:0;" editorLanguage="javascript"></td-monaco-editor>
                        <form [@tdCollapse]="!showSettings" #appInfoForm="ngForm" novalidate class="theme-form bgc-grey-200">
                            <md-toolbar color="primary">
                                <span>Connection Info</span>
                            </md-toolbar>
                            <div layout="row" layout-wrap layout-margin class="push">
                                <md-input class="tc-grey-700" flex="100" placeholder="URL" [(ngModel)]="url" name="url" tdAutoTrim required>
                                </md-input>
                                <md-input class="tc-grey-700" flex="100" placeholder="Driver Name" [(ngModel)]="driverName" name="driverName" tdAutoTrim required>
                                </md-input>
                                <md-input class="tc-grey-700" flex="100" placeholder="UserName" [(ngModel)]="username" name="username" tdAutoTrim required>
                                </md-input>
                                <md-input class="tc-grey-700" flex="100" placeholder="Password" [(ngModel)]="password" name="password" type="password" tdAutoTrim required>
                                </md-input>
                                <button md-raised-button color="accent" (click)="toggleSettings()">Connect</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="td-layout-footer bgc-black pad-xs">
                    <div layout="row" class="pad-sm" layout-align="start center">
                        <span class="push-left">
                            <md-icon class="text-md">description</md-icon>
                            <span>{{fileSelect.currentOpenedFile ? fileSelect.currentOpenedFile.path + fileSelect.currentOpenedFile.name : 'no selected file'}}</span>
                        </span>
                        <span flex></span>
                        <span class="push-left">
                            <md-icon class="text-md">warning</md-icon>
                            <span>8</span>
                        </span>
                        <span class="push-left">
                            <md-icon class="text-md">error</md-icon>
                            <span>2</span>
                        </span>
                    </div>
                </div>
                <md-divider></md-divider>
            </div>
        </md-sidenav-container>
    </div>
    <div class="td-layout-footer pad-sm">
        <div layout="row" layout-align="start center">
            <span class="tc-green-600">
                <md-icon class="text-md">check</md-icon>
                <span>No Issues</span>
            </span>
            <span flex></span>
            <span class="push-left tc-blue-600">
                <md-icon class="text-md">system_update_alt</md-icon>
                <span>2 Updates</span>
            </span>
        </div>
    </div>
</div>
